{% extends 'base.html' %}
{% block content %}
<div class="container mt-5">
  <h2>Breakout Management</h2>

  <a class="btn btn-primary mb-3" href="{% url 'create_breakout' %}">Create New Breakout</a>

  {% for breakout in breakouts %}
    <div class="card mb-4">
      <div class="card-header d-flex justify-content-between align-items-center">
        <strong>{{ breakout.title }}</strong>
        <div>
          <a class="btn btn-sm btn-warning me-2" href="{% url 'edit_breakout' breakout.id %}">Edit</a>
          <a class="btn btn-sm btn-danger" href="{% url 'delete_breakout' breakout.id %}">Delete</a>
        </div>
      </div>
      <div class="card-body">
        <p><strong>Code Name:</strong> {{ breakout.code_name }}</p>
        <p><strong>Description:</strong> {{ breakout.description }}</p>
        <p><strong>Capacity:</strong> {{ breakout.max_capacity }}</p>
        <p><strong>Registered:</strong> {{ breakout.assigned_count }}</p>
      </div>
    </div>
  {% empty %}
    <p>No breakouts available.</p>
  {% endfor %}

  <hr>
      <h4>Unassigned Couples:</h4>
    <p>{{ unassigned_count }} couple(s) not registered for any breakout.</p>
</div>
{% endblock %}
